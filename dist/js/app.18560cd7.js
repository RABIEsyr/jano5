(function(t){function e(e){for(var r,a,c=e[0],u=e[1],s=e[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);h&&h(e);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},a={app:0},o={app:0},i=[];function c(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-bc1ca82a":"1b2e7b73","chunk-22bd8d26":"1f96e976","chunk-14fbb11c":"71d13a16","chunk-93bcc692":"88b50561","chunk-36e8bb8b":"28272be8","chunk-f511e20c":"b741b783"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-bc1ca82a":1,"chunk-22bd8d26":1,"chunk-14fbb11c":1,"chunk-93bcc692":1,"chunk-36e8bb8b":1,"chunk-f511e20c":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-bc1ca82a":"d4464927","chunk-22bd8d26":"0aa6b512","chunk-14fbb11c":"eb7838f9","chunk-93bcc692":"4feab1cd","chunk-36e8bb8b":"15ca985b","chunk-f511e20c":"f22a8fbd"}[t]+".css",o=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],l=s.getAttribute("data-href");if(l===r||l===o)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],h.parentNode.removeChild(h),n(i)},h.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(t);var f=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(h);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[t]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var h=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e),n.d(e,"eventBus",(function(){return K}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{staticStyle:{height:"100%"}},[t.isClientAuth?r("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[r("v-card",{staticStyle:{height:"100%"}},[r("v-navigation-drawer",{staticStyle:{float:"left"},attrs:{permanent:"","expand-on-hover":"",width:200}},[r("v-list",[r("v-list-item",{staticClass:"px-2"},[r("v-list-item-avatar",[r("v-img",{attrs:{src:n("6620")}})],1)],1),r("v-list-item",{attrs:{link:""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-h6"},[t._v(" Jan Salloom ")]),r("v-list-item-subtitle",[t._v("business account")])],1)],1)],1),r("v-divider"),r("v-list",{attrs:{nav:"",dense:""}},[r("router-link",{attrs:{to:"/"}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-home")])],1),r("v-list-item-title",[t._v("حجز جديد")])],1)],1),r("router-link",{attrs:{to:"/add-house"}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-alert-circle-check-outline")])],1),r("v-list-item-title",[t._v("النشطة")])],1)],1),r("router-link",{attrs:{to:"/history"}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-history")])],1),r("v-list-item-title",[t._v("السجل")])],1)],1),r("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[r("v-list-item",t._g(t._b({attrs:{link:""}},"v-list-item",a,!1),n),[r("v-list-item-icon",[r("v-icon",[t._v("mdi-logout")])],1),r("v-list-item-title",[t._v("خروج")])],1)]}},{key:"default",fn:function(e){return[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("مغادرة الموقع")]),r("v-card-text",[r("div",{staticStyle:{"justify-content":"center"}},[t._v("الى اللقاء")])]),r("v-card-actions",{staticClass:"justify-end"},[r("v-row",[r("v-col",[r("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("الغاء")])],1),r("v-col",[r("v-btn",{attrs:{text:""},on:{click:function(e){return t.logout()}}},[t._v("خروج")])],1)],1)],1)],1)]}}])})],1)],1),r("router-view")],1)],1):r("router-view")],1)},o=[],i=n("bc3a"),c=n.n(i),u={data:function(){return{isClientAuth:!1,l:!1}},created:function(){var t=this;c.a.get("http://localhost:3000/check-auth",{headers:{authorization:localStorage.getItem("token")}}).then((function(e){t.isClientAuth=e.data.success})),window.onbeforeunload=function(){var t=localStorage.getItem("token"),e="http://localhost:3000";c.a.get(e+"/booking/reset-count",{headers:{authorization:t}})}},methods:{logout:function(){localStorage.removeItem("token"),this.$router.push("/")}}},s=u,l=n("2877"),f=n("6544"),h=n.n(f),d=n("7496"),p=n("8336"),v=n("b0af"),b=n("99d9"),m=n("62ad"),g=n("169a"),k=n("ce7e"),w=n("132d"),y=n("adda"),x=n("8860"),_=n("da13"),j=n("8270"),S=n("5d23"),O=n("34c3"),V=n("f774"),C=n("0fd9"),E=n("71d9"),I=Object(l["a"])(s,a,o,!1,null,null,null),P=I.exports;h()(I,{VApp:d["a"],VBtn:p["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["b"],VCol:m["a"],VDialog:g["a"],VDivider:k["a"],VIcon:w["a"],VImg:y["a"],VList:x["a"],VListItem:_["a"],VListItemAvatar:j["a"],VListItemContent:S["a"],VListItemIcon:O["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VNavigationDrawer:V["a"],VRow:C["a"],VToolbar:E["a"]});n("d3b7"),n("96cf");var R=n("1da1"),A=n("8c4f");r["a"].use(A["a"]);var L=[{path:"*",beforeEnter:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:if(!t.sent){t.next=6;break}r("/"),t.next=7;break;case 6:r({name:"login"});case 7:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{path:"/login",name:"login",component:function(){return Promise.all([n.e("chunk-bc1ca82a"),n.e("chunk-36e8bb8b")]).then(n.bind(null,"83c9"))},beforeEnter:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:if(!t.sent){t.next=6;break}r("/"),t.next=7;break;case 6:r();case 7:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{path:"/booking",name:"booking",component:function(){return Promise.all([n.e("chunk-bc1ca82a"),n.e("chunk-f511e20c")]).then(n.bind(null,"41aa"))},beforeEnter:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:if(!t.sent){t.next=6;break}r(),t.next=7;break;case 6:r("/login");case 7:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{path:"/",name:"Home",redirect:"booking",beforeEnter:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:if(!t.sent){t.next=6;break}r(),t.next=7;break;case 6:r("/login");case 7:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{path:"/add-house",name:"Houses",component:function(){return Promise.all([n.e("chunk-bc1ca82a"),n.e("chunk-22bd8d26"),n.e("chunk-14fbb11c")]).then(n.bind(null,"db0f"))},beforeEnter:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:if(!t.sent){t.next=6;break}r(),t.next=7;break;case 6:r("/login");case 7:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()},{path:"/history",name:"History",component:function(){return Promise.all([n.e("chunk-bc1ca82a"),n.e("chunk-22bd8d26"),n.e("chunk-93bcc692")]).then(n.bind(null,"6b40"))},beforeEnter:function(){var t=Object(R["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B();case 2:if(!t.sent){t.next=6;break}r(),t.next=7;break;case 6:r("/login");case 7:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()}],T=new A["a"]({mode:"history",base:"/",routes:L,scrollBehavior:function(){window.scrollTo(0,0)}});function B(){return N.apply(this,arguments)}function N(){return N=Object(R["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("/check-auth",{headers:{authorization:localStorage.getItem("token")}});case 2:return e=t.sent,t.abrupt("return",e.data.success);case 4:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}var D=T,H=n("2f62");r["a"].use(H["a"]);var M="",$=new H["a"].Store({state:{token:""},getters:{},mutations:{login:function(t,e){t.token=e.data}},actions:{login:function(t,e){var n=t.commit;c.a.post(M+"/index/auth",e).then((function(t){localStorage.setItem("token",t.data.token),D.push({name:"Home"}),D.go(),n("login",t.data)}))}}}),z=n("f309");r["a"].use(z["a"]);var J=new z["a"]({}),q=n("1dce"),F=n.n(q);r["a"].config.productionTip=!1,r["a"].use(F.a);var K=new r["a"]({methods:{passPhoto:function(t){this.$emit("photoChanged",t)}}});new r["a"]({router:D,store:$,vuetify:J,render:function(t){return t(P)}}).$mount("#app")},6620:function(t,e,n){t.exports=n.p+"img/jan.4e67ddc9.jpg"}});
//# sourceMappingURL=app.18560cd7.js.map